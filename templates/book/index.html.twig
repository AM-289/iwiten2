{% extends 'base.html.twig' %}

{% block title %}Hello BookController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Hello {{ controller_name }}! ✅</h1>

    This friendly message is coming from:
    <ul>
        <li>Your controller at <code>C:/Users/Utilisateur/Videos/lasttry/src/Controller/BookController.php</code></li>
        <li>Your template at <code>C:/Users/Utilisateur/Videos/lasttry/templates/book/index.html.twig</code></li>
    </ul>
</div>
<div class="example-wrapper">
    <h1>Hello {{ controller_name }}! ✅</h1>
    
    <a class="btn btn-primary" href={{ path('book.create')}}> Créer un trajet </a>

     {{knp_pagination_sortable(books, 'ID', 'b.id')}}
     {{knp_pagination_sortable(books, 'title', 'b.title')}}

    <ul>
        {% for book in books %}
        <li>
            
                    {{book.id}}
            
            <turbo-frame id="book_{{ book.id }}">
                <a href={{path('book.details', {id: book.id, slug: book.slug}) }}> {{book.title()}} {{ book.description()}} </a>
            </turbo-frame>
                        {{ book.publisher }}
            <a class="btn btn-primary" href={{path('book.edit', {id: book.id, slug: book.slug}) }}> Editer </a>
            <form action={{path('book.delete', {id: book.id}) }} method='post'>
                <input type="hidden" name="_method" value="DELETE">
                <button type="submit" class="btn btn-danger" > Supprimer </a>
            </form>
        </li>
        {% endfor %}
    </ul>

        {{ knp_pagination_render(books)}}
</div>
{% endblock %}
